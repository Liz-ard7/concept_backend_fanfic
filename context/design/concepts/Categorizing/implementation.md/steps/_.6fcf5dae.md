---
timestamp: 'Sun Oct 12 2025 23:39:35 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251012_233935.cb1af1de.md]]'
content_id: 6fcf5dae224a920cd25ba9159d07d5baf89c495009ec1369a4f59045f2117e63
---

# Concept Specification Refinement (for clarity based on implementation rules)

To align with the detailed rules regarding polymorphic type parameters and action signatures, the original concept specification for `Categorizing` needs a slight adjustment in its action arguments. The `Fic` type parameter signifies an external identifier, not an object whose properties can be directly accessed by the `Categorizing` concept. Therefore, `ficText` and `authorTags` must be explicitly passed as arguments to the actions that require them.

***

**concept** Categorizing \[Fic]

**purpose** to categorize a text into specific categories (i.e. a story will be categorized into a set of tags). "Categorizing" can also *remove* tags provided by the author if deemed necessary.

**principle** A user submits their story (including its text content and any author-provided tags). The system then leverages a Large Language Model (LLM) to generate a list of relevant suggested tags for the story, and concurrently identifies any author-provided tags that are deemed inappropriate or irrelevant for the story's content, allowing for their removal.

**state**

     a set of FicCategories with
         an Fic (identifier for the fiction)
         a suggestedTags Category
         a tagsToRemove Category
     a Category with
         a set of Type strings (A `Category` is a collection of strings, representing tags.)

**actions**

     **keywordGenerator** (fic: Fic, ficText: String, authorTags: set of String) : (suggestedTags: Category)
         **effect** Using an LLM, the LLM will examine the `ficText`'s contents. It then suggests up to 20 most relevant tags for the content, explicitly excluding any tags already present in the `authorTags` set. These suggested tags are stored in a `suggestedTags` Category associated with the `Fic`. If no `FicCategory` is currently associated with the `fic`, a new one is created with these suggested tags (and an empty `tagsToRemove` set). If an `FicCategory` already exists for the `fic`, its `suggestedTags` are updated. Finally, the generated `suggestedTags` are returned.

     **tagCleaner** (fic: Fic, ficText: String, authorTags: set of String) : (tagsToRemove: Category)
         **effect** Using an LLM, the LLM will analyze the `ficText`'s contents and compare it against each tag in the `authorTags` set. Any `authorTag` deemed inappropriate, irrelevant, or misleading for the `fic` is added to a `tagsToRemove` Category. If an `FicCategory` already exists for the `fic`, its `tagsToRemove` are updated. If not, a new `FicCategory` is created for the `fic` with these tags (and an empty `suggestedTags` set). Finally, the identified `tagsToRemove` are returned.

     **viewFicCategory** (fic: Fic) : (ficCategory: FicCategory)
         **requires** the `fic` to be associated with an `FicCategory` within the concept's state.
         **effect** Returns the `FicCategory` document associated with the given `fic`.

     **deleteFicCategory** (fic: Fic) : (deleted: Boolean)
         **requires** the `fic` to be associated with an `FicCategory` within the concept's state.
         **effect** Removes the `FicCategory` associated with the `fic` from the concept's state. Returns `true` if a category was successfully deleted, `false` otherwise.

     **deleteFicCategories** (fics: set of Fic) : (deletedCount: Number)
         **requires** all `fics` in the provided set to be associated with an `FicCategory` within the concept's state.
         **effect** Iterates through the provided set of `fics` and removes all associated `FicCategory` entries from the concept's state. Returns the total count of `FicCategory` entries that were deleted.

***
